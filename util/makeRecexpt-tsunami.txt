[ Last edit: 12 Jan 2007 ]

-------------------------------------------------------------------------------
- Automatic generation of 'recexpt' and 'recexpt-tsunami' scripts
-------------------------------------------------------------------------------

 * Info:

 The 'recexpt' or 'recexpt_??-tsunami' scripts contain the entire observation
 schedule, and control at what time which scan is to be recorded.


 * Automatic generation:

 First, use DRUDG to create a .SNP file for your station from the .SKD file 
 that you received for the experiment.

 To create a 'recexpt_??' script for regular recording to local RAID, use:

   $ ./makeRecexpt.sh snapfile.snp experimentName stationID

 To create a 'recexpt_??-tsunami' Tsunami client side script for real-time 
 Tsunami recording, use:

   $ ./makeRecexpt-tsunami.sh snapfile.snp experimentName stationID


 * Necessary manual changes:

 For each new experiment, you need to re-check the settings in
 the 'recpass' or 'recpass-tsunami' files.

 Further details below.


------------------------------------------------------------------------------
- Recpass, recexpt
------------------------------------------------------------------------------

 * Info:

 These are the 'wr' based tools that record locally onto a RAID disk.
 Recexpt contains all scans of the experiment that are to be recorded.
 Recpass records a single scan using arguments passed on the command line.


 * Preparation:

 Place them into the same directory where 'wr', 'dstart' and 'ndate' tools
 reside - this may be the VSIB source code directory e.g. /usr/src/vsib/
 
 Edit recpass to match your system (RAID mountpoint and directories).
 Edit recexpt for the schedule, if manual schedule editing is necessary.

 To being recording an experiment, and make a log of all output, simply use 
 for example:
 $ script -fa experimentX.log
 $ ./recexpt_Mh


------------------------------------------------------------------------------
- Tsunami recpass-tsunami, recexpt-tsunami
------------------------------------------------------------------------------

 * Info:

 Recexpt contains all scans of the experiment that are to be recorded.

 Recpass-tsunami retrieves a single scan from a remote real-time Tsunami
 server, and can be edited so that the server side will create a backup
 of transmitted files if necessary.

 The file 'recexpt-tsunami' is a simple manually editable schedule
 script file. This can be used for quick station setup and network testing.

 The automatically generated file 'recexpt_??-tsunami' is a more 
 advanced schedule script file, and provides some error resilience
 to the schedule and transfers.


 * Client side preparation:

 The two files can be placed into any (same) directory - on the client 
 machine.


 * Client side necessary manual changes:

 Edit recpass-tsunami for the correct server name and some other settings.

 Edit recexpt-tsunami for the schedule, if manual schedule editing is
 necessary. If using 'recexpt_??-tsunami autogenerated scripts, you
 may also change a few settings in them if required.


 * Server side preparation:

 On the server machine, start the real-time Tsunami server process via
 $ script -fa experimentXserver.log
 $ rttsunamid

 NOTE: If you are using some special recording mode, you'll have to edit
 the /usr/src/tsunami/rtserver/vsibctl.h file for the correct VSIB mode
 and recompile the server program. See the Tsunami source code and
 the instructions in COMPILING.txt there.


 * Client side usage:

 To being recording an experiment on a client PC, and make a log of all 
 output, simply use for example:
 $ script -fa experimentX.log
 $ ./recexpt_Mh-tsunami

-------------------------------------------------------------------------------

